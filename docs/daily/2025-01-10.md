# 2025-01-10

## ğŸ“š ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©
- ResultíŒ¨í„´

---

## âœ¨ ResultíŒ¨í„´

- ì„±ê³µ(Success)
- ì‹¤íŒ¨(Error, Failure)

## ì—ëŸ¬ì²˜ë¦¬

### try-catch

ResultíŒ¨í„´ì€ ì„±ê³µ ì‹¤íŒ¨ ì²˜ë¦¬ì— trycathë³´ë‹¤ ìœ ìš©

ì„±ê³µì‹œ Result.success()

ì‹¤íŒ¨ì‹œ Result.failure()ë¡œ ìƒì„±ëœ Result íƒ€ì…ì„ ë°˜í™˜

### sealed class

ì œí•œëœ ìƒì†ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” í´ë˜ìŠ¤

enum classì˜ ìƒìœ„ í˜¸í™˜

sealed class ì•ˆì— data classë“¤ë¡œ, ìƒì†ë°›ì„ ìˆ˜ ìˆëŠ” ì• ë“¤ì„ íŠ¹ì •í•  ìˆ˜ ìˆë‹¤.

- sealed interfaceë„ ìˆë‹¤.

### runCatchingì€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€?

ë¦¬í„´ íƒ€ì…ì„ Resultë¡œ ê°ì‹¸ì„œ ë°›ê³ ,

runCatching ê³¼ if throwë¡œ

### ì½”í‹€ë¦°ì—ì„œ ì»¤ìŠ¤í…€Resultí´ë˜ìŠ¤

```kotlin
sealed class Result<D> {
	data class Success<D>(val data: D) : Result<D>()
	data class Error(val e: Throwable) : Result<Nothing>()
}
```

- Unit? Nothing?
    - Unit : ë¹ˆìƒì, ê°’ì€ ìˆì§€ë§Œ ì˜ë¯¸ ì—†ìŒ
    - Nothing : ìƒì ì—†ìŒ, ì ˆëŒ€ ë°˜í™˜ë˜ì§€ ì•ŠìŒ

### ResultíŒ¨í„´ ë„ì…í•˜ëŠ” ê³³ì—ì„œ ì‘ë‹µ ê°ì²´ë¥¼ Result í´ë˜ìŠ¤ë¡œ ë§µí•‘í•˜ê¸°

- ì‹¤íŒ¨ ìƒí™©ì— Exception ë°œìƒì‹œí‚¤ì§€ ì•Šì•„ë„ ë¨
- enumê³¼ ë™ì¼í•˜ê²Œ whenê³¼ ì¡°í•©í•˜ì—¬  ëª¨ë“  ì²˜ë¦¬ë¥¼ ê°•ì œí•  ìˆ˜ ìˆë‹¤.
- ì„±ê³µ ì‹¤íŒ¨ë¿ 2ê°€ì§€ë¿ ì•„ë‹ˆë¼ ì—¬ëŸ¬ê°€ì§€(3ê°œ ì´ìƒì˜) ì„±ê³µ ì‹¤íŒ¨ ì²˜ë¦¬ë„ í•  ìˆ˜ ìˆë‹¤.

ì½”í‹€ë¦°ì—ì„œëŠ” Resultê°€ ì´ë¯¸ ìˆì–´ì„œ ë‚´ê°€ ë§Œë“  Resultë¥¼ ì ìš©í• ë•ŒëŠ” import ì£¼ì˜í•´ì•¼í•¨.

```kotlin
sealed class Result<D> {
    data class Success<D>(val data: D) : Result<D>()
    data class Error<D>(val e: D) : Result<Nothing>()
}

```

ì´ë ‡ê²Œ ë§Œë“¤ì–´ì„œ try catchì—ì„œ ë¦¬í„´íƒ€ì…ì„ Resultë¡œ ê°ìŒ€ ê²½ìš°ì— Errorì—ì„œ ë¦¬í„´ íƒ€ì… ì˜¤ë¥˜ê°€ ë‚œë‹¤.

```kotlin
sealed class Result<out D> {
    data class Success<D>(val data: D) : Result<D>()
    data class Error<D>(val e: D) : Result<Nothing>()
}
```

ì´ë ‡ê²Œ ë§Œë“¤ë©´ ì˜¤ë¥˜ê°€ ì•ˆë‚œë‹¤.

ImplTestì—ì„œ .getMovie()ë¡œ ê°€ì ¸ì˜¨ ë°ì´í„°ê°€ Resultë¡œ ê°ì‹¸ì ¸ìˆìœ¼ë‹ˆê¹Œ

whenìœ¼ë¡œ Errorê²½ìš° e, Successê²½ìš°ì— ë”°ë¼ ì‹¤ì œ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì™€ì•¼í•¨

ì•± ë§Œë“¤ë•Œ ì‚¬ìš©ìì—ê²Œ ë¬´ìŠ¨ ì—ëŸ¬ì¸ì§€ ì•Œë ¤ì¤„ë•Œ~ trycatchë³´ë‹¤ëŠ” Resultë¡œ ê°ì‹¸ì„œ í™œìš©í•˜ë©° í¸í•˜ë‹¤.

ë°ì´í„°ì†ŒìŠ¤ìª½ì— Resultë‘ë©´ ì „ë¶€ë‹¤ Resultë¥¼ ì¨ì•¼í•¨

ë°ì´í„° ë°›ê³ ë‚˜ì„œ í™”ë©´ì— ê°€ì¥ê°€ê¹Œìš´ ë¦¬í¬ì§€í† ë¦¬ìª½ì—ì„œ Resultì“°ë©´ ê°€ì¥ í¸í–ˆë‹¤.(ì ˆëŒ€ì ì¸ê±´ ì•„ë‹˜, ë°ì´í„°ì†ŒìŠ¤ìª½ì—ì„œë¶€í„° Result ì¨ë„ ë¨, ìƒí™©ì— ë”°ë¼~)

ë°ì´í„° ì†ŒìŠ¤ì—ì„œì˜ ì„±ê³µì‹¤íŒ¨ ê¸°ì¤€ê³¼ ë¦¬í¬ì§€í† ë¦¬ì—ì„œì˜ ì„±ê³µì‹¤íŒ¨ ê¸°ì¤€ì´ ë‹¤ë¥¼ ìˆ˜ë„ ìˆë‹¤. ê·¸ë˜ì„œ ë˜ ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ë‹¤ë¥¸ ë¡œì§ ì²˜ë¦¬ë¥¼ í•´ì•¼í•  ìˆ˜ë„ ìˆìŒ.

ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” ë¦¬í¬ì§€í† ë¦¬ë¥¼ ê°–ë‹¤ ì“°ëŠ” ì• í•œí…Œ Resultë”°ë¼ ë‹¤ì´ì–¼ë¡œê·¸ë‚˜ í† ìŠ¤íŠ¸ë¥¼ ë„ì›Œë¼~ ê·¸ëŸ° ì²˜ë¦¬ê°€ ë“¤ì–´ê°ˆê±°ì„.

---

```kotlin
enum class NetworkError {
	NO_INTERNET,
	UNKNOWN,
}

sealed class Result<out D> {
data class Error(val e: NetworkError) : Result<>
// Throwable ì•„ë‹Œ NetworkErrorë¥¼ ì“°ë©´ ë” ìœ ì—°í•˜ë‹¤.
//when ì•ˆì—ì„œ whenìœ¼ë¡œ NO_INTERNET, UNKNOWN ì¼€ì´ìŠ¤ì— ë”°ë¼ ë¶„ê¸°ì²˜ë¦¬ë„ ê°€ëŠ¥
}

```

---

## ğŸ” ì°¸ê³  ìë£Œ
- [ResultíŒ¨í„´ ìˆ˜ì—…](https://docs.google.com/presentation/d/1gzkeEipKGcQE5C-PYi1QDEBYM0A2PDHYvKHcdgE4IsE/edit?pli=1#slide=id.g32a8af86a4d_0_48)
- [Sealed Classì™€ Sealed Interface](https://ogoons.com/sealed-class-and-sealed-interface)
- [Sealed Classes and interfaces](https://kotlinlang.org/docs/sealed-classes.html#api-request-response-handling)