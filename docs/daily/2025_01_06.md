# 2025_01_06

## ğŸ“š ì˜¤ëŠ˜ ë°°ìš¸ ë‚´ìš©

## **1. DataSourceë€?**

- **ì •ì˜**:
    - ë°ì´í„°ì˜ ì›ì²œì„ ì˜ë¯¸í•˜ë©°, í”„ë¡œê·¸ë¨ì—ì„œ ë°ì´í„°ë¥¼ ì½ê³  ì“°ëŠ” ë° ì‚¬ìš©.
    - ë°ì´í„° ì†ŒìŠ¤ëŠ” ì£¼ë¡œ **CRUD ì—°ì‚°**(Create, Read, Update, Delete)ì„ ì§€ì›.

### **1.1 DataSourceì˜ ì—­í• **

1. **Raw Data ê´€ë¦¬**:
    - ë°ì´í„°ë² ì´ìŠ¤, JSON, íŒŒì¼ ë“± ì›ì²œ ë°ì´í„°ë¥¼ ì²˜ë¦¬.
2. **ë°ì´í„° ì•¡ì„¸ìŠ¤**:
    - ë°ì´í„°ì˜ ì €ì¥ ë° ì¡°íšŒ ì‘ì—…ì„ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬.

---

## **2. ë°ì´í„° ì†ŒìŠ¤ì˜ ì¢…ë¥˜**

- **Text**: í…ìŠ¤íŠ¸ ê¸°ë°˜ íŒŒì¼ ë°ì´í„°.
- **File**: ì¼ë°˜ íŒŒì¼ ì‹œìŠ¤í…œ ë°ì´í„°.
- **JSON**: API ë° êµ¬ì¡°í™”ëœ ë°ì´í„° êµí™˜ì— ìì£¼ ì‚¬ìš©.
- **XML**: êµ¬ì¡°í™”ëœ ê³„ì¸µí˜• ë°ì´í„° í‘œí˜„.
- **CSV**: ë‹¨ìˆœí•œ ë°ì´í„° ì €ì¥ ë° ì²˜ë¦¬.
- **RDBMS**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ (MySQL, PostgreSQL ë“±).
- **NoSQL**: ë¹„ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ (MongoDB, Firebase ë“±).

---

## **3. ë°ì´í„° ì†ŒìŠ¤ í™œìš© ë°©ë²•**

### **3.1 CRUD ì‘ì—…**

- **Create**: ë°ì´í„° ì¶”ê°€.
- **Read**: ë°ì´í„° ì½ê¸°.
- **Update**: ë°ì´í„° ê°±ì‹ .
- **Delete**: ë°ì´í„° ì‚­ì œ.

### **3.2 ë°ì´í„° ì²˜ë¦¬ ì˜ˆì œ**

#### JSON ë°ì´í„°ë¥¼ Kotlin ë°ì´í„° í´ë˜ìŠ¤ë¡œ ë³€í™˜:

```kotlin
data class User(
    val id: Int,
    val name: String,
    val email: String
)

// JSON ë°ì´í„° ì˜ˆì œ
val json = """
{
"id": 1,
"name": "Alice",
"email": "alice@example.com"
}
"""

// JSON -> ë°ì´í„° í´ë˜ìŠ¤ ë³€í™˜
val user = Json.decodeFromString<User>(json)
println(user)
```

---

## **4. ë°ì´í„° ì†ŒìŠ¤ ì„¤ê³„ ê´€ë¡€**

- **ëª…ëª… ê·œì¹™**:
    - ë°ì´í„° ì†ŒìŠ¤ í´ë˜ìŠ¤ ì´ë¦„ì€ ë°ì´í„° ì €ì¥ì†Œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì ‘ë‘ì–´ë¡œ ì‹œì‘.
    - ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ëŠ” `Impl` ì ‘ë¯¸ì‚¬ë¡œ êµ¬ë¶„.
    - ì˜ˆ: `DatabaseSourceImpl`, `JsonSourceImpl`.

- **ê¸°ëŠ¥ ë¶„ë¦¬**:
    - ë°ì´í„° ì†ŒìŠ¤ëŠ” ë°ì´í„° ì•¡ì„¸ìŠ¤ë§Œ ë‹´ë‹¹.
    - ë°ì´í„° ë¡œì§ì€ ë³„ë„ì˜ ì„œë¹„ìŠ¤ë‚˜ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬.

---

## **5. ì£¼ìš” ë°ì´í„° ì†ŒìŠ¤ êµ¬í˜„ ì‹œ ê³ ë ¤ì‚¬í•­**

1. **íš¨ìœ¨ì„±**:
    - ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì½ê³  ì“°ê¸° ìœ„í•œ ìµœì í™”.
2. **ë³´ì•ˆ**:
    - ë¯¼ê°í•œ ë°ì´í„°ëŠ” ì•”í˜¸í™” ë° ì•ˆì „í•œ ì ‘ê·¼ ë°©ì‹ ì‚¬ìš©.
3. **í™•ì¥ì„±**:
    - ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤(JSON, RDBMS ë“±)ë¥¼ í†µí•©í•˜ê¸° ì‰½ê²Œ ì„¤ê³„.

---

## **6. ë°ì´í„° ì†ŒìŠ¤ êµ¬í˜„ ì‹œ ì˜ˆì œ**

### JSON ë°ì´í„°ë¥¼ í™œìš©í•œ ë°ì´í„° ì†ŒìŠ¤

```kotlin
interface DataSource<T> {
    fun create(item: T)
    fun read(id: Int): T
    fun update(item: T)
    fun delete(id: Int)
}

class JsonDataSource : DataSource<User> {
    private val users = mutableListOf<User>()

    override fun create(item: User) {
        if (users.any { it.id == item.id }) {
            throw IllegalArgumentException("User with ID ${item.id} already exists")
        }
        users.add(item)
    }

    override fun read(id: Int): User {
        return users.find { it.id == id }
            ?: throw IllegalArgumentException("User with ID $id not found")
    }

    override fun update(item: User) {
        val index = users.indexOfFirst { it.id == item.id }
        if (index != -1) {
            users[index] = item
        } else {
            throw IllegalArgumentException("User with ID ${item.id} not found")
        }
    }

    override fun delete(id: Int) {
        if (!users.removeIf { it.id == id }) {
            throw IllegalArgumentException("User with ID $id not found")
        }
    }
}
```

---

## **ì •ë¦¬**

1. **DataSource ê°œë…**:
    - ë°ì´í„° ì›ì²œì„ ê´€ë¦¬í•˜ê³  ë°ì´í„° ì•¡ì„¸ìŠ¤ë¥¼ ë‹¨ìˆœí™”.
2. **ì¢…ë¥˜**:
    - JSON, CSV, RDBMS ë“± ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤.
3. **êµ¬í˜„ ê´€ë¡€**:
    - ëª…í™•í•œ ë„¤ì´ë° ë° ì±…ì„ ë¶„ë¦¬.
4. **í™œìš©**:
    - ë°ì´í„° CRUD ì‘ì—…ê³¼ ë°ì´í„° ê°€ê³µì— ìµœì í™”.

## ê¶ê¸ˆ í•œ ê²ƒ

## **1. SupervisorJob**

### **1.1 SupervisorJobì˜ ì •ì˜**

- **ì½”ë£¨í‹´ ê³„ì¸µ êµ¬ì¡°**ì—ì„œ ë¶€ëª¨ ì½”ë£¨í‹´ì´ ìì‹ ì½”ë£¨í‹´ì˜ ì‹¤íŒ¨ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬í•˜ë„ë¡ í•˜ëŠ” Job.
- ìì‹ ì½”ë£¨í‹´ì˜ ì‹¤íŒ¨ê°€ ë¶€ëª¨ ì½”ë£¨í‹´ì´ë‚˜ ë‹¤ë¥¸ ìì‹ ì½”ë£¨í‹´ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ.

### **1.2 SupervisorJobì˜ íŠ¹ì§•**

- ì¼ë°˜ `Job`ê³¼ ë‹¬ë¦¬, ìì‹ ì¤‘ í•˜ë‚˜ê°€ ì‹¤íŒ¨í•´ë„ ë‹¤ë¥¸ ìì‹ ì½”ë£¨í‹´ì€ ì·¨ì†Œë˜ì§€ ì•ŠìŒ.
- ë¶€ëª¨ëŠ” ëª¨ë“  ìì‹ ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼.

### **1.3 ì˜ˆì œ**

```kotlin
import kotlinx.coroutines.*

fun main() = runBlocking {
    val supervisor = SupervisorJob()
    val scope = CoroutineScope(supervisor + Dispatchers.Default)

    scope.launch {
        println("Child 1 starts")
        delay(1000)
        println("Child 1 finished")
    }

    scope.launch {
        println("Child 2 starts")
        throw RuntimeException("Child 2 failed")
    }

    delay(2000)
    println("Supervisor scope complete")
}
```

---

## **2. yield**

### **2.1 yieldì˜ ì •ì˜**

- ì½”ë£¨í‹´ì´ í˜„ì¬ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  ë‹¤ë¥¸ ì‘ì—…ì— ì‹¤í–‰ ì‹œê°„ì„ ì–‘ë³´í•˜ëŠ” í•¨ìˆ˜.
- ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ì‘ì—… ê°„ì— **ê³µì •ì„±**ì„ ë³´ì¥.

### **2.2 yieldì˜ íŠ¹ì§•**

- í˜„ì¬ ì½”ë£¨í‹´ì´ ì‹¤í–‰ ì¤‘ì¸ ìŠ¤ë ˆë“œì—ì„œ ì¦‰ì‹œ ë‹¤ë¥¸ ì‘ì—…ìœ¼ë¡œ ì „í™˜ ê°€ëŠ¥.
- íŠ¹íˆ ë°˜ë³µë¬¸ì—ì„œ ì‚¬ìš©í•˜ì—¬ CPU ì‘ì—…ì„ ë°©ì§€.

### **2.3 ì˜ˆì œ**

```kotlin
import kotlinx.coroutines.*

fun main() = runBlocking {
    launch {
        repeat(5) {
            println("Task 1 - Step $it")
            yield()
        }
    }

    launch {
        repeat(5) {
            println("Task 2 - Step $it")
            yield()
        }
    }
}
```

## **ì°¸ê³  ìë£Œ**

- [DataSource ê°œë…](https://docs.google.com/presentation/d/1FVKnYQ_tAZr06816f46MEZoQo4IIku-PX06aHaVvOJQ/edit#slide=id.g2da0336f38a_0_182)